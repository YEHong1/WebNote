# 前端的单页面模式和多页面模式

## 1.1.1前言

前端部分的搭建，需要考虑使用哪种模式进行页面之间的跳转交互。

而项目内的页面交互，不可避免的需要相互之间的数据共享。 

这就引出了本篇笔记的目的，一起来谈谈：项目前端部分的构建方式以及数据共享方式。 



## 1.1.2搭建前端部分所需要注意的问题

-    方便性

     结合开发的时间需求和方便性选择适合的前端模式； 

-    性能 

     在项目的体量比较大，或者某个页面需要加载较多文件时，会对加载页面所需时间产生影响 

-    浏览器的缓存 

     在项目发布后如果文件（`css/js/image`）有更新，需要用户浏览器清理缓存才会从服务器获取更新后的文件，

     可以通过文件末尾添加时间戳和版本号来避免浏览器优先使用内部缓存文件这样的问题。 

-    文件的目录结构 

     是按照文件的类别设置目录结构？还是按照不同页面设置？ 



## 1.1.3前端搭建的模式选择（多页面模式和单页面模式）

| **页面模式**                                 | **多页面模式（MPA Multi-page Application）**             | **单页面模式（SPA Single-page Application）**                |
| -------------------------------------------- | :------------------------------------------------------- | :----------------------------------------------------------- |
| **页面的组成**                               | 多个完整页面，<br>例如page1.html、page2.html等           | 由一个初始页面和多个页面模块组成，<br/>例如：index.html和page1.html.js、page2.html.js等 |
| **公共文件加载**                             | 跳转页面前后，`js/css/img`等公用文件重新加载             | `js/css/img`等公用文件只在加载初始页面时加载，<br>更换页面内容前后无需重新加载 |
| **页面跳转/内容更新**                        | 页面通过`window.location.href = "./index.html"`跳转      | 通过使用`js`方法，<br>append/remove或者show/hide等方式<br>来进行页面内容的更换 |
| **页面跳转/内容更新**<br/>**所需数据的传递** | 带参的URL、`Localstorage`、`cookie`等                    | 直接通过参数传递，或者全局变量                               |
| **用户体验**                                 | 如果单个页面加载的文件相对较大（多），页面切换加载会很慢 | 页面片段间切换较快，用户体验好，因为初次已经加载好相关文件。但是初次加载页面时需要调整优化，因为加载文件较多 |
| **适用场景**                                 | 适用于高度追求高度支持搜索引擎的应用                     | 高要求的体验度，追求界面流畅的应用                           |
| **转场动画**                                 | 不容易实现                                               | 容易实现                                                     |



总结：

 单页面模式：相对比较有优势，无论在用户体验还是页面切换的数据传递、页面切换动画，都可以有比较大的操作空间 

 多页面模式：比较适用于页面跳转较少，数据传递较少的项目中开发，否则使用cookie，`localstorage`进行数据传递，是一件很可怕而又不稳定的无奈选择 